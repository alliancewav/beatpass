<script>
(function() {
    'use strict';
    
    const basePath = './js-modules/Build V13.7.25/';
    const cacheBuster = Date.now() + Math.random(); // Enhanced cache busting for development
    
    const modules = [
        'UI-helpers.js',
        'BeatPass Optimized Integration/BeatPassIntegration.js',
        'BeatPass Optimized Integration/ad-removal.js',
        'BeatPass Optimized Integration/cheque-button-removal.js',
        'BeatPass Optimized Integration/coverart-updater.js',
        'BeatPass Optimized Integration/immersive-styling.js',
        'BeatPass Optimized Integration/openwidget-integration.js',
        'BeatPass Optimized Integration/webpushr-integration.js',
        'Custom Fields/Consolidated/beatpass-core.js',
        'Custom Fields/Consolidated/beatpass-features.js',
        'Custom Fields/Consolidated/beatpass-ui-components.js',
        'Custom Fields/Consolidated/beatpass-banners.js',
        'Custom Fields/Consolidated/beatpass-spa-router.js',
        'pricing-enhancements.js',
        'verified-producers.js',
        'bp-notes.js',
        'cd-spin.js',
        'queue-enhancement.js'
    ];
    
    // Sequential script loader with cache busting
    function loadScript(src) {
        return new Promise((resolve, reject) => {
            const script = document.createElement('script');
            script.src = `${basePath}${src}?v=${cacheBuster}`;
            script.onload = resolve;
            script.onerror = reject;
            document.head.appendChild(script);
        });
    }
    
    // Load modules sequentially
    async function loadModules() {
        console.log('🚀 Loading BeatPass Build V13.7.25...');
        
        for (const module of modules) {
            try {
                console.log(`🔄 Loading: ${module}`);
                await loadScript(module);
                console.log(`✅ Loaded: ${module}`);
            } catch (error) {
                console.error(`❌ Failed to load: ${module}`, error);
            }
        }
    }
    
    loadModules();
    
    // Global status
    window.BeatpassSystemUsed = 'v13725';
    window.BeatpassSystemStatus = {
        getCurrentSystem: () => 'v13725',
        getSystemName: () => 'Build V13.7.25',
        getBuildVersion: () => 'V13.7.25',
        getModuleCount: () => modules.length
    };
    
    console.log('✅ BeatPass injection initiated!');
})();
</script>